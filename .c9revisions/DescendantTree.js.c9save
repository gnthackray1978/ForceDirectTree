{"ts":1360674862494,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"ï»¿\n\n\njQuery(function () {\n\n\n    var ancUtils = new AncUtils();\n\n\n    var params = {};\n\n    params[0] = 'c41dfad2-f3d4-4682-9c52-610851c36dc6';\n\n    var canvas = document.getElementById(\"springydemo\");\n\n    canvas.getContext(\"2d\");\n\n    canvas.width = window.innerWidth;\n    canvas.height = window.innerHeight;\n\n\n\n\n    var processData = function (data) {\n\n        if (data.Generations.length > 0) {\n\n            var graph = new Graph();\n\n\n\n            var genIdx = 0;\n\n            while (genIdx < 8) {\n\n                var personIdx = 0;\n                var genArray = new Array();\n\n                while (personIdx < data.Generations[genIdx].length) {\n\n                    var currentPerson = data.Generations[genIdx][personIdx];\n\n                    if (!currentPerson.IsHtmlLink) {\n                        var descriptor = '.'; // currentPerson.DOB + ' ' + currentPerson.Name;\n\n                        data.Generations[genIdx][personIdx].nodeLink = graph.newNode({ label: descriptor });\n\n                        if (genIdx > 0) {\n                            var fatherNode = data.Generations[genIdx - 1][currentPerson.FatherIdx].nodeLink;\n                            graph.newEdge(fatherNode, currentPerson.nodeLink, { color: '#99CCFF' });\n                        }\n                    }\n\n                    personIdx++;\n                }\n\n                genIdx++;\n            }\n\n\n            var springy = jQuery('#springydemo').springy({\n                graph: graph,\n                nodeSelected: function (node) {\n                    console.log('Node selected: ' + JSON.stringify(node.data));\n                }\n            });\n\n\n\n\n        }\n\n    };\n\n    ancUtils.twaGetJSON('/Trees/GetTreeDiag', params, processData);\n\n\n\n    //    var springy = jQuery('#springydemo').springy({\n    //        graph: graph,\n    //        nodeSelected: function (node) {\n    //            console.log('Node selected: ' + JSON.stringify(node.data));\n    //        }\n    //    });\n});"]],"start1":0,"start2":0,"length1":0,"length2":1971}]],"length":1971}
